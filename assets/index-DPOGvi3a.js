const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Show-DiP5E7KE.js","./Show-sng-ORuC.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const E={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return ue(this.context.count)},getNextContextId(){return ue(this.context.count++)}};function ue(e){const t=String(e),n=t.length-1;return E.context.id+(n?String.fromCharCode(96+n):"")+t}function kt(e){E.context=e}const Ae=!1,Oe=(e,t)=>e===t,Q=Symbol("solid-proxy"),Ve=typeof Proxy=="function",Gt=Symbol("solid-track"),Pt={equals:Oe};let Re=Me;const j=1,xt=2,Ce={owned:null,cleanups:null,context:null,owner:null},zt={};var m=null;let Ft=null,Ge=null,A=null,v=null,V=null,Bt=0;function Rt(e,t){const n=A,s=m,r=e.length===0,i=t===void 0?s:t,c=r?Ce:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=r?e:()=>e(()=>D(()=>bt(c)));m=c,A=null;try{return W(o,!0)}finally{A=n,m=s}}function I(e,t){t=t?Object.assign({},Pt,t):Pt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),Ne(n,r));return[Se.bind(n),s]}function Qe(e,t,n){const s=mt(e,t,!0,j);tt(s)}function Tt(e,t,n){const s=mt(e,t,!1,j);tt(s)}function He(e,t,n){Re=en;const s=mt(e,t,!1,j);s.user=!0,V?V.push(s):tt(s)}function G(e,t,n){n=n?Object.assign({},Pt,n):Pt;const s=mt(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,tt(s),Se.bind(s)}function We(e){return e&&typeof e=="object"&&"then"in e}function Pe(e,t,n){let s,r,i;typeof t=="function"?(s=e,r=t,i=n||{}):(s=!0,r=e,i=t||{});let c=null,o=zt,l=null,h=!1,a="initialValue"in i,u=typeof s=="function"&&G(s);const p=new Set,[g,k]=(i.storage||I)(i.initialValue),[w,_]=I(void 0),[P,O]=I(void 0,{equals:!1}),[M,K]=I(a?"ready":"unresolved");E.context&&(l=E.getNextContextId(),i.ssrLoadFrom==="initial"?o=i.initialValue:E.load&&E.has(l)&&(o=E.load(l)));function S(x,R,z,L){return c===x&&(c=null,L!==void 0&&(a=!0),(x===o||R===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(L,{value:R})),o=zt,$t(R,z)),R}function $t(x,R){W(()=>{R===void 0&&k(()=>x),K(R!==void 0?"errored":a?"ready":"unresolved"),_(R);for(const z of p.keys())z.decrement();p.clear()},!1)}function It(){const x=Je,R=g(),z=w();if(z!==void 0&&!c)throw z;return A&&A.user,R}function jt(x=!0){if(x!==!1&&h)return;h=!1;const R=u?u():s;if(R==null||R===!1){S(c,D(g));return}let z;const L=o!==zt?o:D(()=>{try{return r(R,{value:g(),refetching:x})}catch(wt){z=wt}});if(z!==void 0){S(c,void 0,Ct(z),R);return}else if(!We(L))return S(c,L,void 0,R),L;return c=L,"v"in L?(L.s===1?S(c,L.v,void 0,R):S(c,void 0,Ct(L.v),R),L):(h=!0,queueMicrotask(()=>h=!1),W(()=>{K(a?"refreshing":"pending"),O()},!1),L.then(wt=>S(L,wt,void 0,R),wt=>S(L,void 0,Ct(wt),R)))}Object.defineProperties(It,{state:{get:()=>M()},error:{get:()=>w()},loading:{get(){const x=M();return x==="pending"||x==="refreshing"}},latest:{get(){if(!a)return It();const x=w();if(x&&!c)throw x;return g()}}});let he=m;return u?Qe(()=>(he=m,jt(!1))):jt(!1),[It,{refetch:x=>Ze(he,()=>jt(x)),mutate:k}]}function hs(e,t=Oe,n){const s=new Map,r=mt(i=>{const c=e();for(const[o,l]of s.entries())if(t(o,c)!==t(o,i))for(const h of l.values())h.state=j,h.pure?v.push(h):V.push(h);return c},void 0,!0,j);return tt(r),i=>{const c=A;if(c){let o;(o=s.get(i))?o.add(c):s.set(i,o=new Set([c])),Te(()=>{o.delete(c),!o.size&&s.delete(i)})}return t(i,r.value)}}function xe(e){return W(e,!1)}function D(e){if(A===null)return e();const t=A;A=null;try{return e()}finally{A=t}}function us(e,t,n){const s=Array.isArray(e);let r,i=n&&n.defer;return c=>{let o;if(s){o=Array(e.length);for(let h=0;h<e.length;h++)o[h]=e[h]()}else o=e();if(i)return i=!1,c;const l=D(()=>t(o,r,c));return r=o,l}}function fs(e){He(()=>D(e))}function Te(e){return m===null||(m.cleanups===null?m.cleanups=[e]:m.cleanups.push(e)),e}function Qt(){return A}function Ze(e,t){const n=m,s=A;m=e,A=null;try{return W(t,!0)}catch(r){oe(r)}finally{m=n,A=s}}const[ds,ps]=I(!1);function ve(e,t){const n=Symbol("context");return{id:n,Provider:nn(n),defaultValue:e}}function Ye(e){let t;return m&&m.context&&(t=m.context[e.id])!==void 0?t:e.defaultValue}function Xe(e){const t=G(e),n=G(()=>Ht(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}let Je;function Se(){if(this.sources&&this.state)if(this.state===j)tt(this);else{const e=v;v=null,W(()=>St(this),!1),v=e}if(A){const e=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(e)):(A.sources=[this],A.sourceSlots=[e]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function Ne(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&W(()=>{for(let r=0;r<e.observers.length;r+=1){const i=e.observers[r],c=Ft&&Ft.running;c&&Ft.disposed.has(i),(c?!i.tState:!i.state)&&(i.pure?v.push(i):V.push(i),i.observers&&Le(i)),c||(i.state=j)}if(v.length>1e6)throw v=[],new Error},!1)),t}function tt(e){if(!e.fn)return;bt(e);const t=Bt;qe(e,e.value,t)}function qe(e,t,n){let s;const r=m,i=A;A=m=e;try{s=e.fn(t)}catch(c){return e.pure&&(e.state=j,e.owned&&e.owned.forEach(bt),e.owned=null),e.updatedAt=n+1,oe(c)}finally{A=i,m=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ne(e,s):e.value=s,e.updatedAt=n)}function mt(e,t,n,s=j,r){const i={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:m,context:m?m.context:null,pure:n};return m===null||m!==Ce&&(m.owned?m.owned.push(i):m.owned=[i]),i}function vt(e){if(e.state===0)return;if(e.state===xt)return St(e);if(e.suspense&&D(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Bt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===j)tt(e);else if(e.state===xt){const s=v;v=null,W(()=>St(e,t[0]),!1),v=s}}function W(e,t){if(v)return e();let n=!1;t||(v=[]),V?n=!0:V=[],Bt++;try{const s=e();return tn(n),s}catch(s){n||(V=null),v=null,oe(s)}}function tn(e){if(v&&(Me(v),v=null),e)return;const t=V;V=null,t.length&&W(()=>Re(t),!1)}function Me(e){for(let t=0;t<e.length;t++)vt(e[t])}function en(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:vt(s)}if(E.context){if(E.count){E.effects||(E.effects=[]),E.effects.push(...e.slice(0,n));return}kt()}for(E.effects&&(E.done||!E.count)&&(e=[...E.effects,...e],n+=E.effects.length,delete E.effects),t=0;t<n;t++)vt(e[t])}function St(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===j?s!==t&&(!s.updatedAt||s.updatedAt<Bt)&&vt(s):r===xt&&St(s,t)}}}function Le(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=xt,n.pure?v.push(n):V.push(n),n.observers&&Le(n))}}function bt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),c=n.observerSlots.pop();s<r.length&&(i.sourceSlots[c]=s,r[s]=i,n.observerSlots[s]=c)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)bt(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)bt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ct(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function oe(e,t=m){throw Ct(e)}function Ht(e){if(typeof e=="function"&&!e.length)return Ht(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=Ht(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function nn(e,t){return function(s){let r;return Tt(()=>r=D(()=>(m.context={...m.context,[e]:s.value},Xe(()=>s.children))),void 0),r}}const sn=Symbol("fallback");function fe(e){for(let t=0;t<e.length;t++)e[t]()}function rn(e,t,n={}){let s=[],r=[],i=[],c=0,o=t.length>1?[]:null;return Te(()=>fe(i)),()=>{let l=e()||[],h=l.length,a,u;return l[Gt],D(()=>{let g,k,w,_,P,O,M,K,S;if(h===0)c!==0&&(fe(i),i=[],s=[],r=[],c=0,o&&(o=[])),n.fallback&&(s=[sn],r[0]=Rt($t=>(i[0]=$t,n.fallback())),c=1);else if(c===0){for(r=new Array(h),u=0;u<h;u++)s[u]=l[u],r[u]=Rt(p);c=h}else{for(w=new Array(h),_=new Array(h),o&&(P=new Array(h)),O=0,M=Math.min(c,h);O<M&&s[O]===l[O];O++);for(M=c-1,K=h-1;M>=O&&K>=O&&s[M]===l[K];M--,K--)w[K]=r[M],_[K]=i[M],o&&(P[K]=o[M]);for(g=new Map,k=new Array(K+1),u=K;u>=O;u--)S=l[u],a=g.get(S),k[u]=a===void 0?-1:a,g.set(S,u);for(a=O;a<=M;a++)S=s[a],u=g.get(S),u!==void 0&&u!==-1?(w[u]=r[a],_[u]=i[a],o&&(P[u]=o[a]),u=k[u],g.set(S,u)):i[a]();for(u=O;u<h;u++)u in w?(r[u]=w[u],i[u]=_[u],o&&(o[u]=P[u],o[u](u))):r[u]=Rt(p);r=r.slice(0,c=h),s=l.slice(0)}return r});function p(g){if(i[u]=g,o){const[k,w]=I(u);return o[u]=w,t(l[u],k)}return t(l[u])}}}function it(e,t){return D(()=>e(t||{}))}function At(){return!0}const on={get(e,t,n){return t===Q?n:e.get(t)},has(e,t){return t===Q?!0:e.has(t)},set:At,deleteProperty:At,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:At,deleteProperty:At}},ownKeys(e){return e.keys()}};function Ut(e){return(e=typeof e=="function"?e():e)?e:{}}function cn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function ws(...e){let t=!1;for(let c=0;c<e.length;c++){const o=e[c];t=t||!!o&&Q in o,e[c]=typeof o=="function"?(t=!0,G(o)):o}if(Ve&&t)return new Proxy({get(c){for(let o=e.length-1;o>=0;o--){const l=Ut(e[o])[c];if(l!==void 0)return l}},has(c){for(let o=e.length-1;o>=0;o--)if(c in Ut(e[o]))return!0;return!1},keys(){const c=[];for(let o=0;o<e.length;o++)c.push(...Object.keys(Ut(e[o])));return[...new Set(c)]}},on);const n={},s=Object.create(null);for(let c=e.length-1;c>=0;c--){const o=e[c];if(!o)continue;const l=Object.getOwnPropertyNames(o);for(let h=l.length-1;h>=0;h--){const a=l[h];if(a==="__proto__"||a==="constructor")continue;const u=Object.getOwnPropertyDescriptor(o,a);if(!s[a])s[a]=u.get?{enumerable:!0,configurable:!0,get:cn.bind(n[a]=[u.get.bind(o)])}:u.value!==void 0?u:void 0;else{const p=n[a];p&&(u.get?p.push(u.get.bind(o)):u.value!==void 0&&p.push(()=>u.value))}}}const r={},i=Object.keys(s);for(let c=i.length-1;c>=0;c--){const o=i[c],l=s[o];l&&l.get?Object.defineProperty(r,o,l):r[o]=l?l.value:void 0}return r}function ln(e){let t,n;const s=r=>{const i=E.context;if(i){const[o,l]=I();E.count||(E.count=0),E.count++,(n||(n=e())).then(h=>{!E.done&&kt(i),E.count--,l(()=>h.default),kt()}),t=o}else if(!t){const[o]=Pe(()=>(n||(n=e())).then(l=>l.default));t=o}let c;return G(()=>(c=t())?D(()=>{if(!i||E.done)return c(r);const o=E.context;kt(i);const l=c(r);return kt(o),l}):"")};return s.preload=()=>n||((n=e()).then(r=>t=()=>r.default),n),s}let an=0;function ks(){return E.context?E.getNextContextId():`cl-${an++}`}const hn=e=>`Stale read from <${e}>.`;function gs(e){const t="fallback"in e&&{fallback:()=>e.fallback};return G(rn(()=>e.each,e.children,t||void 0))}function bs(e){const t=e.keyed,n=G(()=>e.when,void 0,void 0),s=t?n:G(n,void 0,{equals:(r,i)=>!r==!i});return G(()=>{const r=s();if(r){const i=e.children;return typeof i=="function"&&i.length>0?D(()=>i(t?r:()=>{if(!D(s))throw hn("Show");return n()})):i}return e.fallback},void 0,void 0)}const un=e=>G(()=>e());function fn(e,t,n){let s=n.length,r=t.length,i=s,c=0,o=0,l=t[r-1].nextSibling,h=null;for(;c<r||o<i;){if(t[c]===n[o]){c++,o++;continue}for(;t[r-1]===n[i-1];)r--,i--;if(r===c){const a=i<s?o?n[o-1].nextSibling:n[i-o]:l;for(;o<i;)e.insertBefore(n[o++],a)}else if(i===o)for(;c<r;)(!h||!h.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[i-1]&&n[o]===t[r-1]){const a=t[--r].nextSibling;e.insertBefore(n[o++],t[c++].nextSibling),e.insertBefore(n[--i],a),t[r]=n[i]}else{if(!h){h=new Map;let u=o;for(;u<i;)h.set(n[u],u++)}const a=h.get(t[c]);if(a!=null)if(o<a&&a<i){let u=c,p=1,g;for(;++u<r&&u<i&&!((g=h.get(t[u]))==null||g!==a+p);)p++;if(p>a-o){const k=t[c];for(;o<a;)e.insertBefore(n[o++],k)}else e.replaceChild(n[o++],t[c++])}else c++;else t[c++].remove()}}}const de="_$DX_DELEGATE";function dn(e,t,n,s={}){let r;return Rt(i=>{r=i,t===document?e():pn(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function ys(e,t,n,s){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},c=()=>(r||(r=i())).cloneNode(!0);return c.cloneNode=c,c}function Es(e,t=window.document){const n=t[de]||(t[de]=new Set);for(let s=0,r=e.length;s<r;s++){const i=e[s];n.has(i)||(n.add(i),t.addEventListener(i,wn))}}function ms(e,t,n){ce(e)||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function _s(e,t){ce(e)||(t==null?e.removeAttribute("class"):e.className=t)}function As(e,t,n,s){if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=i=>r.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Os(e,t,n={}){const s=Object.keys(t||{}),r=Object.keys(n);let i,c;for(i=0,c=r.length;i<c;i++){const o=r[i];!o||o==="undefined"||t[o]||(pe(e,o,!1),delete n[o])}for(i=0,c=s.length;i<c;i++){const o=s[i],l=!!t[o];!o||o==="undefined"||n[o]===l||!l||(pe(e,o,!0),n[o]=l)}return n}function Rs(e,t,n){return D(()=>e(t,n))}function pn(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return Nt(e,t,s,n);Tt(r=>Nt(e,t(),r,n),s)}function ce(e){return!!E.context&&!E.done&&(!e||e.isConnected)}function pe(e,t,n){const s=t.trim().split(/\s+/);for(let r=0,i=s.length;r<i;r++)e.classList.toggle(s[r],n)}function wn(e){if(E.registry&&E.events&&E.events.find(([l,h])=>h===e))return;let t=e.target;const n=`$$${e.type}`,s=e.target,r=e.currentTarget,i=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),c=()=>{const l=t[n];if(l&&!t.disabled){const h=t[`${n}Data`];if(h!==void 0?l.call(t,h,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},o=()=>{for(;c()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),E.registry&&!E.done&&(E.done=_$HY.done=!0),e.composedPath){const l=e.composedPath();i(l[0]);for(let h=0;h<l.length-2&&(t=l[h],!!c());h++){if(t._$host){t=t._$host,o();break}if(t.parentNode===r)break}}else o();i(s)}function Nt(e,t,n,s,r){const i=ce(e);if(i){!n&&(n=[...e.childNodes]);let l=[];for(let h=0;h<n.length;h++){const a=n[h];a.nodeType===8&&a.data.slice(0,2)==="!$"?a.remove():l.push(a)}n=l}for(;typeof n=="function";)n=n();if(t===n)return n;const c=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,c==="string"||c==="number"){if(i||c==="number"&&(t=t.toString(),t===n))return n;if(o){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=et(e,n,s,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||c==="boolean"){if(i)return n;n=et(e,n,s)}else{if(c==="function")return Tt(()=>{let l=t();for(;typeof l=="function";)l=l();n=Nt(e,l,n,s)}),()=>n;if(Array.isArray(t)){const l=[],h=n&&Array.isArray(n);if(Wt(l,t,n,r))return Tt(()=>n=Nt(e,l,n,s,!0)),()=>n;if(i){if(!l.length)return n;if(s===void 0)return n=[...e.childNodes];let a=l[0];if(a.parentNode!==e)return n;const u=[a];for(;(a=a.nextSibling)!==s;)u.push(a);return n=u}if(l.length===0){if(n=et(e,n,s),o)return n}else h?n.length===0?we(e,l,s):fn(e,n,l):(n&&et(e),we(e,l));n=l}else if(t.nodeType){if(i&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=et(e,n,s,t);et(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Wt(e,t,n,s){let r=!1;for(let i=0,c=t.length;i<c;i++){let o=t[i],l=n&&n[e.length],h;if(!(o==null||o===!0||o===!1))if((h=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))r=Wt(e,o,l)||r;else if(h==="function")if(s){for(;typeof o=="function";)o=o();r=Wt(e,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||r}else e.push(o),r=!0;else{const a=String(o);l&&l.nodeType===3&&l.data===a?e.push(l):e.push(document.createTextNode(a))}}return r}function we(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function et(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let i=!1;for(let c=t.length-1;c>=0;c--){const o=t[c];if(r!==o){const l=o.parentNode===e;!i&&!c?l?e.replaceChild(r,o):e.insertBefore(r,n):l&&o.remove()}else i=!0}}else e.insertBefore(r,n);return[r]}const kn="modulepreload",gn=function(e,t){return new URL(e,t).href},ke={},bn=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let h=function(a){return Promise.all(a.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const c=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");r=h(n.map(a=>{if(a=gn(a,s),a in ke)return;ke[a]=!0;const u=a.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(!!s)for(let w=c.length-1;w>=0;w--){const _=c[w];if(_.href===a&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${p}`))return;const k=document.createElement("link");if(k.rel=u?"stylesheet":kn,u||(k.as="script"),k.crossOrigin="",k.href=a,l&&k.setAttribute("nonce",l),document.head.appendChild(k),u)return new Promise((w,_)=>{k.addEventListener("load",w),k.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(c){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c}return r.then(c=>{for(const o of c||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Zt=Symbol("store-raw"),ot=Symbol("store-node"),H=Symbol("store-has"),Ke=Symbol("store-self");function De(e){let t=e[Q];if(!t&&(Object.defineProperty(e,Q,{value:t=new Proxy(e,mn)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let r=0,i=n.length;r<i;r++){const c=n[r];s[c].get&&Object.defineProperty(e,c,{enumerable:s[c].enumerable,get:s[c].get.bind(t)})}}return t}function Y(e){let t;return e!=null&&typeof e=="object"&&(e[Q]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ut(e,t=new Set){let n,s,r,i;if(n=e!=null&&e[Zt])return n;if(!Y(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let c=0,o=e.length;c<o;c++)r=e[c],(s=ut(r,t))!==r&&(e[c]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const c=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let l=0,h=c.length;l<h;l++)i=c[l],!o[i].get&&(r=e[i],(s=ut(r,t))!==r&&(e[i]=s))}return e}function Mt(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function yt(e,t,n){if(e[t])return e[t];const[s,r]=I(n,{equals:!1,internal:!0});return s.$=r,e[t]=s}function yn(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Q||t===ot||(delete n.value,delete n.writable,n.get=()=>e[Q][t]),n}function Be(e){Qt()&&yt(Mt(e,ot),Ke)()}function En(e){return Be(e),Reflect.ownKeys(e)}const mn={get(e,t,n){if(t===Zt)return e;if(t===Q)return n;if(t===Gt)return Be(e),n;const s=Mt(e,ot),r=s[t];let i=r?r():e[t];if(t===ot||t===H||t==="__proto__")return i;if(!r){const c=Object.getOwnPropertyDescriptor(e,t);Qt()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(c&&c.get)&&(i=yt(s,t,i)())}return Y(i)?De(i):i},has(e,t){return t===Zt||t===Q||t===Gt||t===ot||t===H||t==="__proto__"?!0:(Qt()&&yt(Mt(e,H),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:En,getOwnPropertyDescriptor:yn};function $(e,t,n,s=!1){if(!s&&e[t]===n)return;const r=e[t],i=e.length;n===void 0?(delete e[t],e[H]&&e[H][t]&&r!==void 0&&e[H][t].$()):(e[t]=n,e[H]&&e[H][t]&&r===void 0&&e[H][t].$());let c=Mt(e,ot),o;if((o=yt(c,t,r))&&o.$(()=>n),Array.isArray(e)&&e.length!==i){for(let l=e.length;l<i;l++)(o=c[l])&&o.$();(o=yt(c,"length",i))&&o.$(e.length)}(o=c[Ke])&&o.$()}function $e(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const r=n[s];$(e,r,t[r])}}function _n(e,t){if(typeof t=="function"&&(t=t(e)),t=ut(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const r=t[n];e[n]!==r&&$(e,n,r)}$(e,"length",s)}else $e(e,t)}function gt(e,t,n=[]){let s,r=e;if(t.length>1){s=t.shift();const c=typeof s,o=Array.isArray(e);if(Array.isArray(s)){for(let l=0;l<s.length;l++)gt(e,[s[l]].concat(t),n);return}else if(o&&c==="function"){for(let l=0;l<e.length;l++)s(e[l],l)&&gt(e,[l].concat(t),n);return}else if(o&&c==="object"){const{from:l=0,to:h=e.length-1,by:a=1}=s;for(let u=l;u<=h;u+=a)gt(e,[u].concat(t),n);return}else if(t.length>1){gt(e[s],t,[s].concat(n));return}r=e[s],n=[s].concat(n)}let i=t[0];typeof i=="function"&&(i=i(r,n),i===r)||s===void 0&&i==null||(i=ut(i),s===void 0||Y(r)&&Y(i)&&!Array.isArray(i)?$e(r,i):$(e,s,i))}function Ie(...[e,t]){const n=ut(e||{}),s=Array.isArray(n),r=De(n);function i(...c){xe(()=>{s&&c.length===1?_n(n,c[0]):gt(n,c)})}return[r,i]}const Yt=Symbol("store-root");function st(e,t,n,s,r){const i=t[n];if(e===i)return;const c=Array.isArray(e);if(n!==Yt&&(!Y(e)||!Y(i)||c!==Array.isArray(i)||r&&e[r]!==i[r])){$(t,n,e);return}if(c){if(e.length&&i.length&&(!s||r&&e[0]&&e[0][r]!=null)){let h,a,u,p,g,k,w,_;for(u=0,p=Math.min(i.length,e.length);u<p&&(i[u]===e[u]||r&&i[u]&&e[u]&&i[u][r]===e[u][r]);u++)st(e[u],i,u,s,r);const P=new Array(e.length),O=new Map;for(p=i.length-1,g=e.length-1;p>=u&&g>=u&&(i[p]===e[g]||r&&i[p]&&e[g]&&i[p][r]===e[g][r]);p--,g--)P[g]=i[p];if(u>g||u>p){for(a=u;a<=g;a++)$(i,a,e[a]);for(;a<e.length;a++)$(i,a,P[a]),st(e[a],i,a,s,r);i.length>e.length&&$(i,"length",e.length);return}for(w=new Array(g+1),a=g;a>=u;a--)k=e[a],_=r&&k?k[r]:k,h=O.get(_),w[a]=h===void 0?-1:h,O.set(_,a);for(h=u;h<=p;h++)k=i[h],_=r&&k?k[r]:k,a=O.get(_),a!==void 0&&a!==-1&&(P[a]=i[h],a=w[a],O.set(_,a));for(a=u;a<e.length;a++)a in P?($(i,a,P[a]),st(e[a],i,a,s,r)):$(i,a,e[a])}else for(let h=0,a=e.length;h<a;h++)st(e[h],i,h,s,r);i.length>e.length&&$(i,"length",e.length);return}const o=Object.keys(e);for(let h=0,a=o.length;h<a;h++)st(e[o[h]],i,o[h],s,r);const l=Object.keys(i);for(let h=0,a=l.length;h<a;h++)e[l[h]]===void 0&&$(i,l[h],void 0)}function Cs(e,t={}){const{merge:n,key:s="id"}=t,r=ut(e);return i=>{if(!Y(i)||!Y(r))return r;const c=st(r,{[Yt]:i},Yt,n,s);return c===void 0?i:c}}const An=["a","b","c","d","e","f","g","h"],On=["1","2","3","4","5","6","7","8"],ft=["white","black"],F=["pawn","knight","bishop","rook","queen","king"],Rn=["a","h"],y=e=>e!==void 0,N=e=>e==="white"?"black":"white",_t=e=>e>>3,dt=e=>e&7,Xt=(e,t)=>0<=e&&e<8&&0<=t&&t<8?e+8*t:void 0,Ps=e=>{switch(e){case"pawn":return"p";case"knight":return"n";case"bishop":return"b";case"rook":return"r";case"queen":return"q";case"king":return"k"}};function Cn(e){switch(e.toLowerCase()){case"p":return"pawn";case"n":return"knight";case"b":return"bishop";case"r":return"rook";case"q":return"queen";case"k":return"king";default:return}}function Pn(e){if(e.length===2)return Xt(e.charCodeAt(0)-97,e.charCodeAt(1)-49)}const xs=e=>An[dt(e)]+On[_t(e)],le=(e,t)=>e==="white"?t==="a"?2:6:t==="a"?58:62,ae=(e,t)=>e==="white"?t==="a"?3:5:t==="a"?59:61,ge=e=>(e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),Math.imul(e+(e>>>4)&252645135,16843009)>>24),Jt=e=>(e=e>>>8&16711935|(e&16711935)<<8,e>>>16&65535|(e&65535)<<16),be=e=>(e=e>>>1&1431655765|(e&1431655765)<<1,e=e>>>2&858993459|(e&858993459)<<2,e=e>>>4&252645135|(e&252645135)<<4,Jt(e));class f{lo;hi;constructor(t,n){this.lo=t|0,this.hi=n|0}static fromSquare(t){return t>=32?new f(0,1<<t-32):new f(1<<t,0)}static fromRank(t){return new f(255,0).shl64(8*t)}static fromFile(t){return new f(16843009<<t,16843009<<t)}static empty(){return new f(0,0)}static full(){return new f(4294967295,4294967295)}static corners(){return new f(129,2164260864)}static center(){return new f(402653184,24)}static backranks(){return new f(255,4278190080)}static backrank(t){return t==="white"?new f(255,0):new f(0,4278190080)}static lightSquares(){return new f(1437226410,1437226410)}static darkSquares(){return new f(2857740885,2857740885)}complement(){return new f(~this.lo,~this.hi)}xor(t){return new f(this.lo^t.lo,this.hi^t.hi)}union(t){return new f(this.lo|t.lo,this.hi|t.hi)}intersect(t){return new f(this.lo&t.lo,this.hi&t.hi)}diff(t){return new f(this.lo&~t.lo,this.hi&~t.hi)}intersects(t){return this.intersect(t).nonEmpty()}isDisjoint(t){return this.intersect(t).isEmpty()}supersetOf(t){return t.diff(this).isEmpty()}subsetOf(t){return this.diff(t).isEmpty()}shr64(t){return t>=64?f.empty():t>=32?new f(this.hi>>>t-32,0):t>0?new f(this.lo>>>t^this.hi<<32-t,this.hi>>>t):this}shl64(t){return t>=64?f.empty():t>=32?new f(0,this.lo<<t-32):t>0?new f(this.lo<<t,this.hi<<t^this.lo>>>32-t):this}bswap64(){return new f(Jt(this.hi),Jt(this.lo))}rbit64(){return new f(be(this.hi),be(this.lo))}minus64(t){const n=this.lo-t.lo,s=(n&t.lo&1)+(t.lo>>>1)+(n>>>1)>>>31;return new f(n,this.hi-(t.hi+s))}equals(t){return this.lo===t.lo&&this.hi===t.hi}size(){return ge(this.lo)+ge(this.hi)}isEmpty(){return this.lo===0&&this.hi===0}nonEmpty(){return this.lo!==0||this.hi!==0}has(t){return(t>=32?this.hi&1<<t-32:this.lo&1<<t)!==0}set(t,n){return n?this.with(t):this.without(t)}with(t){return t>=32?new f(this.lo,this.hi|1<<t-32):new f(this.lo|1<<t,this.hi)}without(t){return t>=32?new f(this.lo,this.hi&~(1<<t-32)):new f(this.lo&~(1<<t),this.hi)}toggle(t){return t>=32?new f(this.lo,this.hi^1<<t-32):new f(this.lo^1<<t,this.hi)}last(){if(this.hi!==0)return 63-Math.clz32(this.hi);if(this.lo!==0)return 31-Math.clz32(this.lo)}first(){if(this.lo!==0)return 31-Math.clz32(this.lo&-this.lo);if(this.hi!==0)return 63-Math.clz32(this.hi&-this.hi)}withoutFirst(){return this.lo!==0?new f(this.lo&this.lo-1,this.hi):new f(0,this.hi&this.hi-1)}moreThanOne(){return this.hi!==0&&this.lo!==0||(this.lo&this.lo-1)!==0||(this.hi&this.hi-1)!==0}singleSquare(){return this.moreThanOne()?void 0:this.last()}*[Symbol.iterator](){let t=this.lo,n=this.hi;for(;t!==0;){const s=31-Math.clz32(t&-t);t^=1<<s,yield s}for(;n!==0;){const s=31-Math.clz32(n&-n);n^=1<<s,yield 32+s}}*reversed(){let t=this.lo,n=this.hi;for(;n!==0;){const s=31-Math.clz32(n);n^=1<<s,yield 32+s}for(;t!==0;){const s=31-Math.clz32(t);t^=1<<s,yield s}}}const Lt=(e,t)=>{let n=f.empty();for(const s of t){const r=e+s;0<=r&&r<64&&Math.abs(dt(e)-dt(r))<=2&&(n=n.with(r))}return n},X=e=>{const t=[];for(let n=0;n<64;n++)t[n]=e(n);return t},xn=X(e=>Lt(e,[-9,-8,-7,-1,1,7,8,9])),Tn=X(e=>Lt(e,[-17,-15,-10,-6,6,10,15,17])),vn={white:X(e=>Lt(e,[7,9])),black:X(e=>Lt(e,[-7,-9]))},Kt=e=>xn[e],Dt=e=>Tn[e],pt=(e,t)=>vn[e][t],qt=X(e=>f.fromFile(dt(e)).without(e)),te=X(e=>f.fromRank(_t(e)).without(e)),ee=X(e=>{const t=new f(134480385,2151686160),n=8*(_t(e)-dt(e));return(n>=0?t.shl64(n):t.shr64(-n)).without(e)}),ne=X(e=>{const t=new f(270549120,16909320),n=8*(_t(e)+dt(e)-7);return(n>=0?t.shl64(n):t.shr64(-n)).without(e)}),se=(e,t,n)=>{let s=n.intersect(t),r=s.bswap64();return s=s.minus64(e),r=r.minus64(e.bswap64()),s.xor(r.bswap64()).intersect(t)},Sn=(e,t)=>se(f.fromSquare(e),qt[e],t),Nn=(e,t)=>{const n=te[e];let s=t.intersect(n),r=s.rbit64();return s=s.minus64(f.fromSquare(e)),r=r.minus64(f.fromSquare(63-e)),s.xor(r.rbit64()).intersect(n)},ct=(e,t)=>{const n=f.fromSquare(e);return se(n,ee[e],t).xor(se(n,ne[e],t))},lt=(e,t)=>Sn(e,t).xor(Nn(e,t)),re=(e,t)=>ct(e,t).xor(lt(e,t)),Ts=(e,t,n)=>{switch(e.role){case"pawn":return pt(e.color,t);case"knight":return Dt(t);case"bishop":return ct(t,n);case"rook":return lt(t,n);case"queen":return re(t,n);case"king":return Kt(t)}},ie=(e,t)=>{const n=f.fromSquare(t);return te[e].intersects(n)?te[e].with(e):ne[e].intersects(n)?ne[e].with(e):ee[e].intersects(n)?ee[e].with(e):qt[e].intersects(n)?qt[e].with(e):f.empty()},at=(e,t)=>ie(e,t).intersect(f.full().shl64(e).xor(f.full().shl64(t))).withoutFirst();class ht{occupied;promoted;white;black;pawn;knight;bishop;rook;queen;king;constructor(){}static default(){const t=new ht;return t.reset(),t}reset(){this.occupied=new f(65535,4294901760),this.promoted=f.empty(),this.white=new f(65535,0),this.black=new f(0,4294901760),this.pawn=new f(65280,16711680),this.knight=new f(66,1107296256),this.bishop=new f(36,603979776),this.rook=new f(129,2164260864),this.queen=new f(8,134217728),this.king=new f(16,268435456)}static empty(){const t=new ht;return t.clear(),t}clear(){this.occupied=f.empty(),this.promoted=f.empty();for(const t of ft)this[t]=f.empty();for(const t of F)this[t]=f.empty()}clone(){const t=new ht;t.occupied=this.occupied,t.promoted=this.promoted;for(const n of ft)t[n]=this[n];for(const n of F)t[n]=this[n];return t}getColor(t){if(this.white.has(t))return"white";if(this.black.has(t))return"black"}getRole(t){for(const n of F)if(this[n].has(t))return n}get(t){const n=this.getColor(t);if(!n)return;const s=this.getRole(t),r=this.promoted.has(t);return{color:n,role:s,promoted:r}}take(t){const n=this.get(t);return n&&(this.occupied=this.occupied.without(t),this[n.color]=this[n.color].without(t),this[n.role]=this[n.role].without(t),n.promoted&&(this.promoted=this.promoted.without(t))),n}set(t,n){const s=this.take(t);return this.occupied=this.occupied.with(t),this[n.color]=this[n.color].with(t),this[n.role]=this[n.role].with(t),n.promoted&&(this.promoted=this.promoted.with(t)),s}has(t){return this.occupied.has(t)}*[Symbol.iterator](){for(const t of this.occupied)yield[t,this.get(t)]}pieces(t,n){return this[t].intersect(this[n])}rooksAndQueens(){return this.rook.union(this.queen)}bishopsAndQueens(){return this.bishop.union(this.queen)}kingOf(t){return this.pieces(t,"king").singleSquare()}}class U{pawn;knight;bishop;rook;queen;king;constructor(){}static empty(){const t=new U;for(const n of F)t[n]=0;return t}static fromBoard(t,n){const s=new U;for(const r of F)s[r]=t.pieces(n,r).size();return s}clone(){const t=new U;for(const n of F)t[n]=this[n];return t}equals(t){return F.every(n=>this[n]===t[n])}add(t){const n=new U;for(const s of F)n[s]=this[s]+t[s];return n}subtract(t){const n=new U;for(const s of F)n[s]=this[s]-t[s];return n}nonEmpty(){return F.some(t=>this[t]>0)}isEmpty(){return!this.nonEmpty()}hasPawns(){return this.pawn>0}hasNonPawns(){return this.knight>0||this.bishop>0||this.rook>0||this.queen>0||this.king>0}size(){return this.pawn+this.knight+this.bishop+this.rook+this.queen+this.king}}class J{white;black;constructor(t,n){this.white=t,this.black=n}static empty(){return new J(U.empty(),U.empty())}static fromBoard(t){return new J(U.fromBoard(t,"white"),U.fromBoard(t,"black"))}clone(){return new J(this.white.clone(),this.black.clone())}equals(t){return this.white.equals(t.white)&&this.black.equals(t.black)}add(t){return new J(this.white.add(t.white),this.black.add(t.black))}subtract(t){return new J(this.white.subtract(t.white),this.black.subtract(t.black))}count(t){return this.white[t]+this.black[t]}size(){return this.white.size()+this.black.size()}isEmpty(){return this.white.isEmpty()&&this.black.isEmpty()}nonEmpty(){return!this.isEmpty()}hasPawns(){return this.white.hasPawns()||this.black.hasPawns()}hasNonPawns(){return this.white.hasNonPawns()||this.black.hasNonPawns()}}class Et{white;black;constructor(t,n){this.white=t,this.black=n}static default(){return new Et(3,3)}clone(){return new Et(this.white,this.black)}equals(t){return this.white===t.white&&this.black===t.black}}class je{unwrap(t,n){const s=this._chain(r=>b.ok(t?t(r):r),r=>n?b.ok(n(r)):b.err(r));if(s.isErr)throw s.error;return s.value}map(t,n){return this._chain(s=>b.ok(t(s)),s=>b.err(n?n(s):s))}chain(t,n){return this._chain(t,n||(s=>b.err(s)))}}class Mn extends je{constructor(t){super(),this.value=void 0,this.isOk=!0,this.isErr=!1,this.value=t}_chain(t,n){return t(this.value)}}class Ln extends je{constructor(t){super(),this.error=void 0,this.isOk=!1,this.isErr=!0,this.error=t}_chain(t,n){return n(this.error)}}var b;(function(e){e.ok=function(t){return new Mn(t)},e.err=function(t){return new Ln(t||new Error)},e.all=function(t){if(Array.isArray(t)){const r=[];for(let i=0;i<t.length;i++){const c=t[i];if(c.isErr)return c;r.push(c.value)}return e.ok(r)}const n={},s=Object.keys(t);for(let r=0;r<s.length;r++){const i=t[s[r]];if(i.isErr)return i;n[s[r]]=i.value}return e.ok(n)}})(b||(b={}));class Kn{capacity;cache;constructor(t){this.capacity=t,this.capacity=t,this.cache=new Map}get(t){if(!this.cache.has(t))return;const n=this.cache.get(t);return this.cache.delete(t),this.cache.set(t,n),n}put(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.capacity){const s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(t,n)}}var Z;(function(e){e.Empty="ERR_EMPTY",e.OppositeCheck="ERR_OPPOSITE_CHECK",e.PawnsOnBackrank="ERR_PAWNS_ON_BACKRANK",e.Kings="ERR_KINGS",e.Variant="ERR_VARIANT"})(Z||(Z={}));class nt extends Error{}const Dn=(e,t,n,s)=>n[t].intersect(lt(e,s).intersect(n.rooksAndQueens()).union(ct(e,s).intersect(n.bishopsAndQueens())).union(Dt(e).intersect(n.knight)).union(Kt(e).intersect(n.king)).union(pt(N(t),e).intersect(n.pawn)));class q{castlingRights;rook;path;constructor(){}static default(){const t=new q;return t.castlingRights=f.corners(),t.rook={white:{a:0,h:7},black:{a:56,h:63}},t.path={white:{a:new f(14,0),h:new f(96,0)},black:{a:new f(0,234881024),h:new f(0,1610612736)}},t}static empty(){const t=new q;return t.castlingRights=f.empty(),t.rook={white:{a:void 0,h:void 0},black:{a:void 0,h:void 0}},t.path={white:{a:f.empty(),h:f.empty()},black:{a:f.empty(),h:f.empty()}},t}clone(){const t=new q;return t.castlingRights=this.castlingRights,t.rook={white:{a:this.rook.white.a,h:this.rook.white.h},black:{a:this.rook.black.a,h:this.rook.black.h}},t.path={white:{a:this.path.white.a,h:this.path.white.h},black:{a:this.path.black.a,h:this.path.black.h}},t}add(t,n,s,r){const i=le(t,n),c=ae(t,n);this.castlingRights=this.castlingRights.with(r),this.rook[t][n]=r,this.path[t][n]=at(r,c).with(c).union(at(s,i).with(i)).without(s).without(r)}static fromSetup(t){const n=q.empty(),s=t.castlingRights.intersect(t.board.rook);for(const r of ft){const i=f.backrank(r),c=t.board.kingOf(r);if(!y(c)||!i.has(c))continue;const o=s.intersect(t.board[r]).intersect(i),l=o.first();y(l)&&l<c&&n.add(r,"a",c,l);const h=o.last();y(h)&&c<h&&n.add(r,"h",c,h)}return n}discardRook(t){if(this.castlingRights.has(t)){this.castlingRights=this.castlingRights.without(t);for(const n of ft)for(const s of Rn)this.rook[n][s]===t&&(this.rook[n][s]=void 0)}}discardColor(t){this.castlingRights=this.castlingRights.diff(f.backrank(t)),this.rook[t].a=void 0,this.rook[t].h=void 0}}class Bn{rules;board;pockets;turn;castles;epSquare;remainingChecks;halfmoves;fullmoves;constructor(t){this.rules=t}reset(){this.board=ht.default(),this.pockets=void 0,this.turn="white",this.castles=q.default(),this.epSquare=void 0,this.remainingChecks=void 0,this.halfmoves=0,this.fullmoves=1}setupUnchecked(t){this.board=t.board.clone(),this.board.promoted=f.empty(),this.pockets=void 0,this.turn=t.turn,this.castles=q.fromSetup(t),this.epSquare=$n(this,t.epSquare),this.remainingChecks=void 0,this.halfmoves=t.halfmoves,this.fullmoves=t.fullmoves}kingAttackers(t,n,s){return Dn(t,n,this.board,s)}playCaptureAt(t,n){this.halfmoves=0,n.role==="rook"&&this.castles.discardRook(t),this.pockets&&this.pockets[N(n.color)][n.promoted?"pawn":n.role]++}ctx(){const t=this.isVariantEnd(),n=this.board.kingOf(this.turn);if(!y(n))return{king:n,blockers:f.empty(),checkers:f.empty(),variantEnd:t,mustCapture:!1};const s=lt(n,f.empty()).intersect(this.board.rooksAndQueens()).union(ct(n,f.empty()).intersect(this.board.bishopsAndQueens())).intersect(this.board[N(this.turn)]);let r=f.empty();for(const c of s){const o=at(n,c).intersect(this.board.occupied);o.moreThanOne()||(r=r.union(o))}const i=this.kingAttackers(n,N(this.turn),this.board.occupied);return{king:n,blockers:r,checkers:i,variantEnd:t,mustCapture:!1}}clone(){const t=new this.constructor;return t.board=this.board.clone(),t.pockets=this.pockets?.clone(),t.turn=this.turn,t.castles=this.castles.clone(),t.epSquare=this.epSquare,t.remainingChecks=this.remainingChecks?.clone(),t.halfmoves=this.halfmoves,t.fullmoves=this.fullmoves,t}validate(){if(this.board.occupied.isEmpty())return b.err(new nt(Z.Empty));if(this.board.king.size()!==2)return b.err(new nt(Z.Kings));if(!y(this.board.kingOf(this.turn)))return b.err(new nt(Z.Kings));const t=this.board.kingOf(N(this.turn));return y(t)?this.kingAttackers(t,this.turn,this.board.occupied).nonEmpty()?b.err(new nt(Z.OppositeCheck)):f.backranks().intersects(this.board.pawn)?b.err(new nt(Z.PawnsOnBackrank)):b.ok(void 0):b.err(new nt(Z.Kings))}dropDests(t){return f.empty()}c_cache=new Kn(64);dests(t,n){let s=this.c_cache.get(t+"");if(s)return s;if(n=n||this.ctx(),n.variantEnd)return f.empty();const r=this.board.get(t);if(!r||r.color!==this.turn)return f.empty();let i,c;if(r.role==="pawn"){i=pt(this.turn,t).intersect(this.board[N(this.turn)]);const o=this.turn==="white"?8:-8,l=t+o;if(0<=l&&l<64&&!this.board.occupied.has(l)){i=i.with(l);const h=this.turn==="white"?t<16:t>=48,a=l+o;h&&!this.board.occupied.has(a)&&(i=i.with(a))}y(this.epSquare)&&ye(this,t,n)&&(c=f.fromSquare(this.epSquare))}else r.role==="bishop"?i=ct(t,this.board.occupied):r.role==="knight"?i=Dt(t):r.role==="rook"?i=lt(t,this.board.occupied):r.role==="queen"?i=re(t,this.board.occupied):i=Kt(t);if(i=i.diff(this.board[this.turn]),y(n.king)){if(r.role==="king"){const o=this.board.occupied.without(t);for(const l of i)this.kingAttackers(l,N(this.turn),o).nonEmpty()&&(i=i.without(l));return i.union(Ot(this,"a",n)).union(Ot(this,"h",n))}if(n.checkers.nonEmpty()){const o=n.checkers.singleSquare();if(!y(o))return f.empty();i=i.intersect(at(o,n.king).with(o))}n.blockers.has(t)&&(i=i.intersect(ie(t,n.king)))}return c&&(i=i.union(c)),this.c_cache.put(t+"",i),i}pseudo_dests(t,n){if(n=n||this.ctx(),n.variantEnd)return f.empty();const s=this.board.get(t);if(!s||s.color!==this.turn)return f.empty();let r,i;if(s.role==="pawn"){r=pt(this.turn,t);const c=this.turn==="white"?8:-8,o=t+c;if(0<=o&&o<64&&!this.board.occupied.has(o)){r=r.with(o);const l=this.turn==="white"?t<16:t>=48,h=o+c;l&&!this.board.occupied.has(h)&&(r=r.with(h))}y(this.epSquare)&&ye(this,t,n)&&(i=f.fromSquare(this.epSquare))}else s.role==="bishop"?r=ct(t,this.board.occupied):s.role==="knight"?r=Dt(t):s.role==="rook"?r=lt(t,this.board.occupied):s.role==="queen"?r=re(t,this.board.occupied):r=Kt(t);if(y(n.king)){if(s.role==="king"){this.board.occupied.without(t);for(const c of r);return r.union(Ot(this,"a",n)).union(Ot(this,"h",n))}if(n.checkers.nonEmpty()){const c=n.checkers.singleSquare();if(!y(c))return f.empty();r=r.intersect(at(c,n.king).with(c))}n.blockers.has(t)&&(r=r.intersect(ie(t,n.king)))}return i&&(r=r.union(i)),r}isVariantEnd(){return!1}variantOutcome(t){}hasInsufficientMaterial(t){return this.board[t].intersect(this.board.pawn.union(this.board.rooksAndQueens())).nonEmpty()?!1:this.board[t].intersects(this.board.knight)?this.board[t].size()<=2&&this.board[N(t)].diff(this.board.king).diff(this.board.queen).isEmpty():this.board[t].intersects(this.board.bishop)?(!this.board.bishop.intersects(f.darkSquares())||!this.board.bishop.intersects(f.lightSquares()))&&this.board.pawn.isEmpty()&&this.board.knight.isEmpty():!0}toSetup(){return{board:this.board.clone(),pockets:this.pockets?.clone(),turn:this.turn,castlingRights:this.castles.castlingRights,epSquare:In(this),remainingChecks:this.remainingChecks?.clone(),halfmoves:Math.min(this.halfmoves,150),fullmoves:Math.min(Math.max(this.fullmoves,1),9999)}}isInsufficientMaterial(){return ft.every(t=>this.hasInsufficientMaterial(t))}hasDests(t){t=t||this.ctx();for(const n of this.board[this.turn])if(this.dests(n,t).nonEmpty())return!0;return this.dropDests(t).nonEmpty()}isLegal(t,n){{if(t.promotion==="pawn"||t.promotion==="king"&&this.rules!=="antichess"||!!t.promotion!==(this.board.pawn.has(t.from)&&f.backranks().has(t.to)))return!1;const s=this.dests(t.from,n);return s.has(t.to)||s.has(jn(this,t).to)}}isCheck(){const t=this.board.kingOf(this.turn);return y(t)&&this.kingAttackers(t,N(this.turn),this.board.occupied).nonEmpty()}isEnd(t){return(t?t.variantEnd:this.isVariantEnd())?!0:this.isInsufficientMaterial()||!this.hasDests(t)}isCheckmate(t){return t=t||this.ctx(),!t.variantEnd&&t.checkers.nonEmpty()&&!this.hasDests(t)}isStalemate(t){return t=t||this.ctx(),!t.variantEnd&&t.checkers.isEmpty()&&!this.hasDests(t)}outcome(t){const n=this.variantOutcome(t);return n||(t=t||this.ctx(),this.isCheckmate(t)?{winner:N(this.turn)}:this.isInsufficientMaterial()||this.isStalemate(t)?{winner:void 0}:void 0)}allDests(t){t=t||this.ctx();const n=new Map;if(t.variantEnd)return n;for(const s of this.board[this.turn])n.set(s,this.dests(s,t));return n}play(t){const n=this.turn,s=this.epSquare,r=ze(this,t);this.epSquare=void 0,this.halfmoves+=1,n==="black"&&(this.fullmoves+=1),this.turn=N(n);{const i=this.board.take(t.from);if(!i)return;let c;if(i.role==="pawn"){this.halfmoves=0,t.to===s&&(c=this.board.take(t.to+(n==="white"?-8:8)));const o=t.from-t.to;Math.abs(o)===16&&8<=t.from&&t.from<=55&&(this.epSquare=t.from+t.to>>1),t.promotion&&(i.role=t.promotion,i.promoted=!!this.pockets)}else if(i.role==="rook")this.castles.discardRook(t.from);else if(i.role==="king"){if(r){const o=this.castles.rook[n][r];if(y(o)){const l=this.board.take(o);this.board.set(le(n,r),i),l&&this.board.set(ae(n,r),l)}}this.castles.discardColor(n)}if(!r){const o=this.board.set(t.to,i)||c;o&&this.playCaptureAt(t.to,o)}}this.remainingChecks&&this.isCheck()&&(this.remainingChecks[n]=Math.max(this.remainingChecks[n]-1,0))}}class vs extends Bn{constructor(){super("chess")}static default(){const t=new this;return t.reset(),t}static fromSetup(t){const n=new this;return n.setupUnchecked(t),n.validate().map(s=>n)}static fromSetupUnchecked(t){const n=new this;return n.setupUnchecked(t),n}clone(){return super.clone()}}const $n=(e,t)=>{if(!y(t))return;const n=e.turn==="white"?5:2,s=e.turn==="white"?8:-8;if(_t(t)!==n||e.board.occupied.has(t+s))return;const r=t-s;if(!(!e.board.pawn.has(r)||!e.board[N(e.turn)].has(r)))return t},In=e=>{if(!y(e.epSquare))return;const t=e.ctx(),s=e.board.pieces(e.turn,"pawn").intersect(pt(N(e.turn),e.epSquare));for(const r of s)if(e.dests(r,t).has(e.epSquare))return e.epSquare},ye=(e,t,n)=>{if(!y(e.epSquare)||!pt(e.turn,t).has(e.epSquare))return!1;if(!y(n.king))return!0;const s=e.turn==="white"?8:-8,r=e.epSquare-s;return e.kingAttackers(n.king,N(e.turn),e.board.occupied.toggle(t).toggle(r).with(e.epSquare)).without(r).isEmpty()},Ot=(e,t,n)=>{if(!y(n.king)||n.checkers.nonEmpty())return f.empty();const s=e.castles.rook[e.turn][t];if(!y(s)||e.castles.path[e.turn][t].intersects(e.board.occupied))return f.empty();const r=le(e.turn,t),i=at(n.king,r),c=e.board.occupied.without(n.king);for(const h of i)if(e.kingAttackers(h,N(e.turn),c).nonEmpty())return f.empty();const o=ae(e.turn,t),l=e.board.occupied.toggle(n.king).toggle(s).toggle(o);return e.kingAttackers(r,N(e.turn),l).nonEmpty()?f.empty():f.fromSquare(s)},ze=(e,t)=>{const n=t.to-t.from;if(!(Math.abs(n)!==2&&!e.board[e.turn].has(t.to))&&e.board.king.has(t.from))return n>0?"h":"a"},jn=(e,t)=>{const n=ze(e,t);if(!n)return t;const s=e.castles.rook[e.turn][n];return{from:t.from,to:y(s)?s:t.to}};var C;(function(e){e.Fen="ERR_FEN",e.Board="ERR_BOARD",e.Pockets="ERR_POCKETS",e.Turn="ERR_TURN",e.Castling="ERR_CASTLING",e.EpSquare="ERR_EP_SQUARE",e.RemainingChecks="ERR_REMAINING_CHECKS",e.Halfmoves="ERR_HALFMOVES",e.Fullmoves="ERR_FULLMOVES"})(C||(C={}));class T extends Error{}const zn=(e,t,n)=>{let s=e.indexOf(t);for(;n-- >0&&s!==-1;)s=e.indexOf(t,s+t.length);return s},rt=e=>/^\d{1,4}$/.test(e)?parseInt(e,10):void 0,Fe=e=>{const t=Cn(e);return t&&{role:t,color:e.toLowerCase()===e?"black":"white"}},Vt=e=>{const t=ht.empty();let n=7,s=0;for(let r=0;r<e.length;r++){const i=e[r];if(i==="/"&&s===8)s=0,n--;else{const c=parseInt(i,10);if(c>0)s+=c;else{if(s>=8||n<0)return b.err(new T(C.Board));const o=s+n*8,l=Fe(i);if(!l)return b.err(new T(C.Board));e[r+1]==="~"&&(l.promoted=!0,r++),t.set(o,l),s++}}}return n!==0||s!==8?b.err(new T(C.Board)):b.ok(t)},Ee=e=>{if(e.length>64)return b.err(new T(C.Pockets));const t=J.empty();for(const n of e){const s=Fe(n);if(!s)return b.err(new T(C.Pockets));t[s.color][s.role]++}return b.ok(t)},Fn=(e,t)=>{let n=f.empty();if(t==="-")return b.ok(n);for(const s of t){const r=s.toLowerCase(),i=s===r?"black":"white",c=i==="white"?0:7;if("a"<=r&&r<="h")n=n.with(Xt(r.charCodeAt(0)-97,c));else if(r==="k"||r==="q"){const o=e[i].intersect(f.backrank(i)).intersect(e.rook.union(e.king)),l=r==="k"?o.last():o.first();n=n.with(y(l)&&e.rook.has(l)?l:Xt(r==="k"?7:0,c))}else return b.err(new T(C.Castling))}return ft.some(s=>f.backrank(s).intersect(n).size()>2)?b.err(new T(C.Castling)):b.ok(n)},me=e=>{const t=e.split("+");if(t.length===3&&t[0]===""){const n=rt(t[1]),s=rt(t[2]);return!y(n)||n>3||!y(s)||s>3?b.err(new T(C.RemainingChecks)):b.ok(new Et(3-n,3-s))}else if(t.length===2){const n=rt(t[0]),s=rt(t[1]);return!y(n)||n>3||!y(s)||s>3?b.err(new T(C.RemainingChecks)):b.ok(new Et(n,s))}else return b.err(new T(C.RemainingChecks))},Ss=e=>{const t=e.split(/[\s_]+/),n=t.shift();let s,r=b.ok(void 0);if(n.endsWith("]")){const o=n.indexOf("[");if(o===-1)return b.err(new T(C.Fen));s=Vt(n.slice(0,o)),r=Ee(n.slice(o+1,-1))}else{const o=zn(n,"/",7);o===-1?s=Vt(n):(s=Vt(n.slice(0,o)),r=Ee(n.slice(o+1)))}let i;const c=t.shift();if(!y(c)||c==="w")i="white";else if(c==="b")i="black";else return b.err(new T(C.Turn));return s.chain(o=>{const l=t.shift(),h=y(l)?Fn(o,l):b.ok(f.empty()),a=t.shift();let u;if(y(a)&&a!=="-"&&(u=Pn(a),!y(u)))return b.err(new T(C.EpSquare));let p=t.shift(),g;y(p)&&p.includes("+")&&(g=me(p),p=t.shift());const k=y(p)?rt(p):0;if(!y(k))return b.err(new T(C.Halfmoves));const w=t.shift(),_=y(w)?rt(w):1;if(!y(_))return b.err(new T(C.Fullmoves));const P=t.shift();let O=b.ok(void 0);if(y(P)){if(y(g))return b.err(new T(C.RemainingChecks));O=me(P)}else y(g)&&(O=g);return t.length>0?b.err(new T(C.Fen)):r.chain(M=>h.chain(K=>O.map(S=>({board:o,pockets:M,turn:i,castlingRights:K,remainingChecks:S,epSquare:u,halfmoves:k,fullmoves:Math.max(1,_)}))))})};var d;(function(e){e.COMMA="COMMA",e.MATE="MATE",e.ZERO="ZERO",e.PIECE_NAME="PIECE_NAME",e.SQUARE_NAME="SQUARE_NAME",e.OPERATOR_MOVE="OPERATOR_MOVE",e.OPERATOR_ATTACK="OPERATOR_ATTACK",e.OPERATOR_DEFEND="OPERATOR_DEFEND",e.OPERATOR_BLOCK="OPERATOR_BLOCK",e.OPERATOR_UNBLOCK="OPERATOR_UNBLOCK",e.PRECESSOR="PRECESSOR",e.EOF="EOF"})(d||(d={}));const Un=["p","n","q","b","k","r","p2","n2","b2","r2","p3","p4","p5","p6","p7","p8"],Vn=["P","N","Q","B","K","R","P2","N2","B2","R2","P3","P4","P5","P6","P7","P8"],Gn=Un.concat(Vn),Qn=["G","A","E","."],Hn=["f7","f2"];class Wn{text;pos;current_char;operators;constructor(t){this.text=t,this.pos=0,this.current_char=this.text[this.pos],this.operators=new Map([["=",d.OPERATOR_MOVE],["+",d.OPERATOR_ATTACK],["-",d.OPERATOR_DEFEND],["/",d.OPERATOR_BLOCK],["|",d.OPERATOR_UNBLOCK]])}advance(){this.pos++,this.current_char=this.text[this.pos]}skip_whitespace(){for(;this.current_char!==void 0&&/\s/.test(this.current_char);)this.advance()}is_alpha_num(t){return/[a-zA-Z0-9_]/.test(t)}word(){let t="";for(;this.current_char!==void 0&&this.is_alpha_num(this.current_char);)t+=this.current_char,this.advance();return t}get_next_token(){for(;this.current_char!==void 0;){if(this.skip_whitespace(),this.current_char==="#")return this.advance(),{type:d.MATE,value:"#"};if(this.current_char==="0")return this.advance(),{type:d.ZERO,value:"0"};if(this.current_char==="z")return this.advance(),{type:d.ZERO,value:"z"};if(this.current_char==="Z")return this.advance(),{type:d.ZERO,value:"Z"};if(this.current_char===".")return this.advance(),{type:d.PRECESSOR,value:"."};if(this.current_char===",")return this.advance(),{type:d.COMMA,value:","};const t=this.word();if(Qn.includes(t))return{type:d.PRECESSOR,value:t};if(Gn.includes(t))return{type:d.PIECE_NAME,value:t};if(Hn.includes(t))return{type:d.SQUARE_NAME,value:t};if(this.operators.has(this.current_char)){let n=this.current_char,s=this.operators.get(this.current_char);return this.advance(),{type:s,value:n}}if(this.current_char===void 0)break;throw new Zn(`Unexpected token ${this.current_char}`)}return{type:d.EOF,value:""}}}class Zn extends Error{}class _e extends Error{}class Yn{lexer;current_token;lookahead_token;lookahead2_token;constructor(t){this.lexer=t,this.current_token=this.lexer.get_next_token(),this.lookahead_token=this.lexer.get_next_token(),this.lookahead2_token=this.lexer.get_next_token()}error(t){throw t?new _e(`Expected ${t} but got ${this.current_token.type} ('${this.current_token.value}')`):new _e(`Unexpected token ${this.current_token.type} ('${this.current_token.value}')`)}advance_tokens(){this.current_token=this.lookahead_token,this.lookahead_token=this.lookahead2_token,this.lookahead2_token=this.lexer.get_next_token()}eat(t){this.current_token.type===t?this.advance_tokens():this.error(t)}piece(){const t=this.current_token;return this.eat(d.PIECE_NAME),t.value}precessor(){const t=this.current_token;return this.eat(d.PRECESSOR),t.value}parse_sentence(){const t=this.precessor();if(this.current_token.type===d.EOF)return{type:"precessor",precessor:t};if(this.current_token.type===d.OPERATOR_MOVE){const n=this.parse_capture(t);return this.eat(d.EOF),n}else if(this.lookahead_token.type===d.OPERATOR_MOVE){const n=this.parse_move_attack(t);return this.eat(d.EOF),n}else{const n=this.parse_still_attack(t);return this.eat(d.EOF),n}}parse_capture(t){this.eat(d.OPERATOR_MOVE);let n=this.piece();return{type:"capture",precessor:t,captured:n}}parse_attack(t){let n=this.piece(),s=[],r=[],i=!1,c=!1;for(;this.current_token.type===d.ZERO;){let l=this.current_token.value==="z";this.eat(d.ZERO),this.eat(d.OPERATOR_ATTACK),l?i=!0:c=!0}return{type:"attack",precessor:t,piece:n,to_attack:s,to_defend:r,zero_attack:i,zero_defend:c}}parse_still_attack(t){let n=[];for(;;){let s=this.piece(),r=[],i=[],c=[],o=[],l=[],h=!1,a=!1,u=!1,p=[];for(;;){let g=this.current_token.type,k=this.lookahead_token.type;if(g===d.MATE)this.eat(d.MATE),u=!0;else if(g===d.ZERO){let w=this.current_token.value==="z";this.eat(d.ZERO),this.eat(d.OPERATOR_ATTACK),w?h=!0:a=!0}else if(k===d.OPERATOR_DEFEND){let w=this.piece();this.eat(d.OPERATOR_DEFEND),l.push(w)}else if(g===d.OPERATOR_ATTACK){this.eat(d.OPERATOR_ATTACK);let w=this.piece();if(g=this.current_token.type,g===d.OPERATOR_BLOCK){this.eat(d.OPERATOR_BLOCK);let _=this.piece();i.push([s,w,_]);continue}r.push(w)}else if(k===d.OPERATOR_ATTACK){let w=this.piece();if(this.eat(d.OPERATOR_ATTACK),g=this.current_token.type,g===d.OPERATOR_BLOCK){this.eat(d.OPERATOR_BLOCK);let _=this.piece();if(this.current_token.type===d.OPERATOR_BLOCK){this.eat(d.OPERATOR_BLOCK);let P=this.piece();p.push([w,_,P])}else i.push([w,s,_])}else o.push(w)}else break}if(n.push({type:"still_attack",precessor:t,piece:s,attack:r,blocked:i,unblocked:c,zero_attack:h,zero_defend:a,attacked_by:o,is_mate:u,undefended_by:l,double_blocked:p}),this.current_token.type===d.COMMA){this.eat(d.COMMA);continue}break}return{type:"g_still_attack",precessor:"G",attacks:n}}parse_move_attack(t){let n=this.piece();this.eat(d.OPERATOR_MOVE),this.current_token.type===d.SQUARE_NAME&&(this.current_token.value,this.advance_tokens());let s=[],r=[],i=[],c=[],o=[],l,h=!1,a=!1,u=!1;for(;;){let p=this.current_token.type,g=this.lookahead_token.type;if(p===d.MATE)this.eat(d.MATE),u=!0;else if(p===d.ZERO){let k=this.current_token.value==="z";this.eat(d.ZERO),this.eat(d.OPERATOR_ATTACK),k?h=!0:a=!0}else if(p===d.OPERATOR_MOVE)this.eat(d.OPERATOR_MOVE),l=this.piece();else if(g===d.OPERATOR_DEFEND){let k=this.piece();this.eat(d.OPERATOR_DEFEND),o.push(k)}else if(g===d.OPERATOR_ATTACK){let k=this.piece();if(this.eat(d.OPERATOR_ATTACK),this.current_token.type===d.OPERATOR_UNBLOCK){this.eat(d.OPERATOR_UNBLOCK);let w=this.piece();i.push([k,w])}else c.push(k)}else if(p===d.OPERATOR_ATTACK){this.eat(d.OPERATOR_ATTACK);let k=this.piece();if(p=this.current_token.type,p===d.OPERATOR_BLOCK){this.eat(d.OPERATOR_BLOCK);let w=this.piece();r.push([n,k,w]);continue}s.push(k)}else break}return{type:"move_attack",precessor:t,move:n,captured:l,attack:s,blocked:r,unblocked:i,zero_attack:h,zero_defend:a,attacked_by:c,is_mate:u,undefended_by:o}}}function Ns(e){let t=e.trim().split(`
`),n={depth:-1,rule:".",children:[],m:[],long:!1,no_c:!1,sentence:{type:"undefined",precessor:"E"}};const s=[n];for(let r=0;r<t.length;r++){let i=t[r],c=i.trim();if(!c)continue;const o=i.search(/\S/);let l=!1,h=!1;c[c.length-1]==="9"&&(h=!0,c=c.slice(0,-1).trim()),c[c.length-1]==="M"&&(l=!0,c=c.slice(0,-1).trim());let a={depth:o,rule:c,children:[],m:[],long:h,no_c:l,sentence:{type:"undefined",precessor:"E"}};for(;s.length>o+1;)s.pop();s[s.length-1].children.push(a),s.push(a)}return n}function Xn(e){let n=new Yn(new Wn(e.rule)).parse_sentence();e.sentence=n,e.children.map(Xn)}let Jn;function Ms(e){Jn=e}function Ls(e){const t={knight:"n",rook:"r",bishop:"b",king:"k",queen:"q",pawn:"p"};return e.color==="white"?t[e.role].toLowerCase():t[e.role].toUpperCase()}function Ks(e){const t=i=>i.toLowerCase()===i?"white":"black",n={r:"rook",n:"knight",b:"bishop",p:"pawn",q:"queen",k:"king"};if(e==="app")return{color:"black",role:"pawn"};if(e==="APP")return{color:"white",role:"pawn"};let s=t(e),r=n[e.replace(/2/,"").toLowerCase()];return{color:s,role:r}}function qn(e,t){let n,s=()=>!n||n.state==="unresolved"?void 0:n.latest;[n]=Pe(()=>ts(e,D(s)),i=>i,t);const r=()=>n();return Object.defineProperty(r,"latest",{get(){return n.latest}}),r}class B{static all(){return new B}static allSettled(){return new B}static any(){return new B}static race(){return new B}static reject(){return new B}static resolve(){return new B}catch(){return new B}then(){return new B}finally(){return new B}}function ts(e,t){if(!E.context)return e(t);const n=fetch,s=Promise;try{return window.fetch=()=>new B,Promise=B,e(t)}finally{window.fetch=n,Promise=s}}function es(e){return new Worker(""+new URL("worker2-BdhuldSg.js",import.meta.url).href,{type:"module",name:e?.name})}const Ue=ve(),ns=()=>Ye(Ue),ss=e=>{let t=new es;const[n,s]=I(),[r,i]=I(),[c,o]=I();t.onmessage=w=>{switch(w.data==="ready"&&(l=!0,u()),w.data.t){case"progress":s(w.data.d);break;case"puzzles":let{all:_,filtered:P}=w.data.d;xe(()=>{o(_),i(P)});break}};let l=!1,h,a=[];function u(){l&&t.postMessage({t:"filter",d:{filter:h,rules:a}})}let k={get progress(){return n()},get puzzles(){return r()},get all(){return c()},filter:w=>{h=w,u()},rules:w=>{a=w,u()}};return it(Ue.Provider,{value:k,get children(){return[" ",un(()=>e.children)," "]}})};function rs(){let e=ns(),t=qn(async()=>e.all??[],{initialValue:[]}),[n,s]=Ie({get a_hundred(){return t()}});return[n,{}]}function is(e){let[t,n]=rs(),[s,r]=Ie({tactics:t}),i={...n},c=[s,i];return it(os.Provider,{value:c,get children(){return e.children}})}const os=ve(),cs=ln(()=>bn(()=>import("./Show-DiP5E7KE.js"),__vite__mapDeps([0,1]),import.meta.url));function ls(){return it(ss,{get children(){return it(is,{get children(){return it(cs,{})}})}})}const as=document.getElementById("root");dn(()=>it(ls,{}),as);const Ds=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{it as A,ws as B,vs as C,gs as D,bs as E,An as F,Tt as G,Os as H,us as I,Te as J,Es as K,I as L,ns as M,Ie as N,Qe as O,ms as P,As as Q,On as R,f as S,xe as T,rn as U,qn as V,_s as W,hs as X,Ms as Y,Ds as Z,bn as _,lt as a,ct as b,Dt as c,_t as d,Ns as e,Xn as f,Jn as g,Ls as h,Ks as i,Ts as j,Kt as k,G as l,xs as m,He as n,fs as o,Ss as p,re as q,Ps as r,dt as s,ys as t,Rs as u,ks as v,D as w,Cs as x,Xe as y,pn as z};
